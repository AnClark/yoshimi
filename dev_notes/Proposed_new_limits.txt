This structure is intended to enable you to traverse the controls structure testing/adjusting at each level on the tree.

The function will be called directly with a command block and return 'value' and 'type' set appropriately.

'type' will be used to determine the operation.

values (& 3) {these will not be changed}
0   return adjusted input between max and min.
1   return min
2   return max
3   return default

flags
bit 2   clear (set on entry to 'read')
bit 3   set = from midi \
bit 4   set = from cli   >  these three are exclusive.
bit 5   set = from gui  /
bit 6   (returns) set = MIDI-learnable
bit 7   (returns) set = regard as integer

Normal byte structure will be used to determine how far down the tree to go for a value.

e.g.
      value  type & 3   command  part
limit  200     0          0     240 {remainder all 255}

This would return 127 - the input value adusted to the maximium for master volume.

limit  any     3         255     0 {remainder all 255}

No command set so it returns 64 - the maximum number of ordinary parts.


If an out of range setting is found part way along a command chain. 'value' will be set to the byte number where the error was encountered and 'type' bit 2 will be set (otherwise it will be cleared.

e.g
'part' was set to 70 (invalid part number)
'value' will be returned as 2

'part' set to 3 (valid) but control set to 200 (no such control at this level)
'value' will be returned as 1
